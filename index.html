<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <meta property="og:title" content="EDUPRO">
  <meta property="og:image" content="https://i.postimg.cc/3wC1SrbG/image.png">
  <meta property="og:description" content="You have 2 weeks to Create a Project that has anything to do with Tech, School <br> 
  Education in general, It doesn't have
  to be a website (prototype*) ">
  <title>EDUPRO | Sgil ya wlidi</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!--Alarm and crypto price live-->
<!-- design inspired by https://codepen.io/MarkBoots/pen/zYbjaoR?editors=0010 -->
<div class="screen"></div>


<audio id="alarmSoundUpper" src="https://github.com/berru-g/Rick-MortySample/raw/master/PadMusical-master/public/rsc-mp3/Rick-sample/ricky_ticky_tabby_biatch.wav" preload="auto"></audio>
    <audio id="alarmSoundLower" src="https://github.com/berru-g/Rick-MortySample/raw/master/PadMusical-master/public/rsc-mp3/Rick-sample/Awww_Bitch.wav" preload="auto"></audio>

    <p><a onclick="register()" style="cursor: pointer; color: #005cc5;">Click me to Register...</a></p>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script>
    function register() {
        Swal.fire({
            title: 'Join Us!',
            color: "#a984ee",
            html: `
                <form id="registrationForm" method="post" style="text-align: left; color: #f44; align-items:center">
                    <label for="name" style="color: #e36209;">Name</label>
                    <input type="text" id="name" class="swal2-input" placeholder="Enter your name" style="background-color: #444; color: #00FF00;">
                    
                    <label for="school" style="color: #e36209;">School</label>
                    <input type="text" id="school" class="swal2-input" placeholder="Enter your school" style="background-color: #444; color: #00FF00;">
                    
                    <label for="email" style="color: #e36209;">Email</label>
                    <input type="email" id="email" class="swal2-input" placeholder="Enter your email" style="background-color: #444; color: #00FF00;">
                    
                    <label for="number" style="color: #e36209;">Phone Number</label>
                    <input type="tel" id="number" class="swal2-input" placeholder="Enter your number" style="background-color: #444; color: #00FF00;">
                    
                    <label style="display: flex; align-items: center; margin-top: 10px; color: #e36209;">
                        <input type="checkbox" id="teamCheckbox" style="margin-right: 5px;">
                        Joining as a team
                    </label>
                    
                    <label style="display: flex; align-items: center; margin-top: 10px; color: #e36209;">
                        <input type="checkbox" id="aloneCheckbox" style="margin-right: 5px;" checked>
                        Joining alone
                    </label>
    
                    <div id="teamNameField" style="display: none;">
                        <label for="teamName" style="color: #e36209;">Team Name</label>
                        <input type="text" id="teamName" class="swal2-input" placeholder="Enter your team name" style="background-color: #444; color: #00FF00;">
                    </div>
                    
                    <div id="reasonField" style="margin-top: 10px;">
                        <label for="reason" style="color: #e36209;">Why are you joining?</label>
                        <textarea id="reason" class="swal2-textarea" placeholder="Share your reason" style="background-color: #444; color: #00FF00;"></textarea>
                    </div>
                </form>
            `,
            background: '#333',
            confirmButtonText: 'Submit',
            confirmButtonColor: '#005cc5',
            showCancelButton: true,
            cancelButtonText: 'Cancel',
            focusConfirm: false,
            preConfirm: () => {
                const name = document.getElementById('name').value;
                const school = document.getElementById('school').value;
                const email = document.getElementById('email').value;
                const number = document.getElementById('number').value;
                const isTeam = document.getElementById('teamCheckbox').checked;
                const isAlone = document.getElementById('aloneCheckbox').checked;
                const teamName = document.getElementById('teamName').value;
                const reason = document.getElementById('reason').value;
    
                if (!name || !email || !number || !reason) {
                    Swal.showValidationMessage('Please fill in all required fields');
                    return false;
                }
                return { name, school, email, number, isTeam, isAlone, teamName, reason };
            }
        });
    
        // JavaScript to handle dynamic fields inside the Swal
        document.getElementById('teamCheckbox').addEventListener('change', function () {
            document.getElementById('teamNameField').style.display = this.checked ? 'block' : 'none';
            document.getElementById('aloneCheckbox').checked = !this.checked; // Uncheck "alone" if "team" is checked
        });
    
        document.getElementById('aloneCheckbox').addEventListener('change', function () {
            if (this.checked) {
                document.getElementById('teamCheckbox').checked = false; // Uncheck "team" if "alone" is checked
                document.getElementById('teamNameField').style.display = 'none';
            }
        });
    }
    </script>

<script>
  $(document).ready(function () {
      // Bind the form submission
      $('#registrationForm').on('submit', function (e) {
          e.preventDefault();
          
          // Get form data from the form inputs
          const formData = new FormData(this);
          const name = formData.get('name');
          const school = formData.get('school');
          const email = formData.get('email');
          const number = formData.get('number');
          const isTeam = formData.get('teamCheckbox') === 'on'; // For checkbox
          const isAlone = formData.get('aloneCheckbox') === 'on'; // For checkbox
          const teamName = formData.get('teamName');
          const reason = formData.get('reason');
          
          // Call the function to handle form submission
          submitFormData(name, school, email, number, isTeam, isAlone, teamName, reason);
      });
  });
  
  // Function to handle form submission and send data to Google Sheets
  function submitFormData(name, school, email, number, isTeam, isAlone, teamName, reason) {
      // Show loading spinner while submitting data
      Swal.fire({
          icon: 'info',
          title: 'Please wait...',
          text: 'Submitting your details and message',
          willOpen: () => {
              Swal.showLoading();
          },
          showConfirmButton: false,
          allowOutsideClick: false,
      });
  
      // Google Apps Script URL (replace with your URL)
      const url = 'https://script.google.com/macros/s/AKfycbweKMASQYUcXMpT4YVCSc14Z67nmZDGznu4MtIffrD3jgsu2wkjyHjfu_Hqdf-II0Ln0A/exec';
      
      // Create an object to send via AJAX
      const dataToSend = {
          name: name,
          school: school,
          email: email,
          number: number,
          isTeam: isTeam,
          isAlone: isAlone,
          teamName: teamName,
          reason: reason
      };
  
      // Send data to Google Sheets via AJAX
      $.ajax({
          url: url,
          method: 'POST',
          data: dataToSend, // Send the data as an object
          success: function (data) {
              Swal.close(); // Close the loading popup
              if (data.result === 'success') {
                  Swal.fire({
                      icon: 'success',
                      title: 'Contact submitted!',
                      text: `Thank you, ${name}! We will reach out to you soon via email.`,
                  }).then(() => {
                      location.reload(); // Reload page after success
                  });
              } else {
                  Swal.fire({
                      icon: 'error',
                      title: 'Submission failed',
                      text: 'An error occurred. Please try again later.',
                  });
              }
          },
          error: function (error) {
              Swal.close(); // Close the loading popup
              Swal.fire({
                  icon: 'error',
                  title: 'Submission failed',
                  text: 'An error occurred. Please try again later.',
              });
          }
      });
  }
  </script>
  

<script>
async function displayCountdown() {
  try {
      // Set up the countdown date, objective, and number of participants
      const countdownDate = new Date("2024-11-23 UTC23:59:59").getTime(); // Adjust target date here
      const objective = `You have 2 weeks to<br>
                         Create a Project that<br>
                         has anything to do with<br>
                         Tech, School, Education<br>
                         in general, It doesn't have<br>
                         to be a website <small>(prototype*)</small> `;
      const participants = 50; // Example number of participants

      // Function to format values as HTML elements
      const valFormat = (val) => {
          if (typeof val === 'number') return `<span class="value number">${val}</span>`;
          else if (typeof val === 'string') return `<span class="value string">"${val}"</span>`;
      };

      // Countdown calculation
      const now = new Date().getTime();
      const distance = countdownDate - now;
      
      if (distance < 0) {
          document.querySelector(".screen").innerHTML = `<p>The countdown has ended!</p>`;
          return;
      }

      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((distance % (1000 * 60)) / 1000);

      // Display the countdown, objective, and participants in the HTML
      document.querySelector(".screen").innerHTML =
          `<span class="keyword">const</span>
          <span class="def">countdownDetails</span>
          <span class="operator">= {</span><br>
              &nbsp;&nbsp;<span class="property">days</span>: ${valFormat(days)},<br>
              &nbsp;&nbsp;<span class="property">hours</span>: ${valFormat(hours)},<br>
              &nbsp;&nbsp;<span class="property">minutes</span>: ${valFormat(minutes)},<br>
              &nbsp;&nbsp;<span class="property">seconds</span>: ${valFormat(seconds)},<br>
              &nbsp;&nbsp;<span class="property">objective</span>: <br>${valFormat(objective)},<br>
              &nbsp;&nbsp;<span class="property">participants</span>: ${valFormat(participants)}<br>
              <span class="operator"> };</span>`;
  } catch (error) {
      console.error('Error displaying countdown:', error);
  }
}

function startCountdown() {
  displayCountdown();
  setInterval(displayCountdown, 1000); // Update every second
}

startCountdown();

</script>

</body>
</html>